import React, { useState } from 'react';
import { Menu, User, Search, Info, ChevronRight, AlertTriangle, CheckCircle, BookOpen, FileText, BarChart2, ChevronDown, ChevronUp } from 'lucide-react';

// --- DADOS DAS QUESTÕES (Atualizados com Contexto Separado) ---
const questionsData = [
  {
    id: 1,
    year: "2019",
    number: "14",
    topic: "Trabalho, Fatores Humanos e Sustentabilidade",
    theory: `
      <h3 class="font-bold text-lg mb-2">Conceito e Abrangência da Engenharia do Trabalho</h3>
      <p class="mb-2">A Engenharia do Trabalho constitui um campo estratégico voltado ao estudo e otimização das interações entre trabalhadores, máquinas e ambiente. Seu objetivo é garantir sistemas produtivos compatíveis com as capacidades humanas.</p>
      
      <h3 class="font-bold text-lg mb-2">Modos Operatórios e Margem de Manobra</h3>
      <p class="mb-2"><strong>Modos operatórios:</strong> Estratégias usadas pelos trabalhadores para realizar tarefas, emergindo da experiência e adaptação.</p>
      <p class="mb-2"><strong>Margem de manobra:</strong> O grau de liberdade que o trabalhador possui para adaptar sua atuação. Quanto maior a margem, maior a capacidade de alterar gestos e ritmos.</p>
    `,
    contextText: "A análise ergonômica busca adaptar as situações de trabalho às características psicofisiológicas dos trabalhadores. Conhecer a distância entre o trabalho prescrito (tarefa) e o trabalho real (atividade) é essencial nos projetos do trabalho, uma vez que essa distância pode gerar consequências danosas à produtividade e à saúde dos trabalhadores. No projeto do trabalho, é importante analisar a margem de manobra resultante da tarefa, os modos operatórios adotados na atividade e, consequentemente, a carga de trabalho.",
    questionStatement: "Nesse contexto, quando se aumenta a margem de manobra:",
    options: [
      { id: "A", text: "A carga de trabalho e os modos operatórios diminuem.", isCorrect: false, explanation: "FALSO: Se os modos operatórios diminuem, o trabalhador tem menos opções de ação (oposto de maior margem). Menos liberdade geralmente aumenta a carga de trabalho." },
      { id: "B", text: "A carga de trabalho e os modos operatórios aumentam.", isCorrect: false, explanation: "FALSO: Embora os modos operatórios possam aumentar (mais opções), a carga de trabalho tende a diminuir com mais liberdade, pois o trabalhador otimiza seu esforço." },
      { id: "C", text: "A carga de trabalho aumenta e os modos operatórios diminuem.", isCorrect: false, explanation: "FALSO: Descreve uma situação de redução da margem de manobra (rigidez), e não de aumento." },
      { id: "D", text: "A carga de trabalho diminui e os modos operatórios aumentam.", isCorrect: true, explanation: "CORRETO: Com maior margem de manobra, o trabalhador tem liberdade para adaptar seus modos operatórios (aumentam), tornando o processo mais eficiente e reduzindo a carga de trabalho (diminui)." },
      { id: "E", text: "A carga de trabalho e os modos operatórios se mantêm inalterados.", isCorrect: false, explanation: "FALSO: Aumentar a margem de manobra altera necessariamente a forma como o trabalho é realizado." }
    ]
  },
  {
    id: 2,
    year: "2023",
    number: "36",
    topic: "Ergonomia e NR-17",
    theory: `
      <h3 class="font-bold text-lg mb-2">Norma Regulamentadora NR-17</h3>
      <p class="mb-2">A NR-17 visa adaptar as condições de trabalho às características psicofisiológicas dos trabalhadores para promover conforto, segurança e eficiência.</p>
      <ul class="list-disc pl-5 mb-2">
        <li>Ter altura e características da superfície compatíveis com o tipo de atividade.</li>
        <li>Ter área de trabalho de fácil alcance e visualização.</li>
        <li>Possibilitar posicionamento e movimentação adequados.</li>
      </ul>
    `,
    contextText: "No desenvolvimento do trabalho manual feito na posição sentado ou que tenha de ser feito em pé, bancadas, mesas, escrivaninhas e painéis devem proporcionar ao trabalhador condições de boa postura, visualização e operação e devem atender aos seguintes requisitos mínimos: a) ter altura e características da superfície de trabalho compatíveis com o tipo de atividade, com a distância requerida dos olhos ao campo de trabalho e com a altura do assento; b) ter área de trabalho de fácil alcance e visualização pelo trabalhador; c) ter características dimensionais que possibilitem posicionamento e movimentação adequados dos segmentos corporais.",
    questionStatement: "Acerca dos mobiliários adequados em postos de trabalhos conforme disposto na Norma Regulamentadora n. 17, avalie as afirmações a seguir e assinale a correta.",
    subItems: [
      "I. Os assentos utilizados em postos de trabalho devem ter altura fixa, independentemente da estatura do trabalhador e da natureza da função exercida.",
      "II. Os postos de trabalho, em que as atividades são realizadas em pé, devem possuir mobiliário adequado para que o trabalhador descanse no próprio posto de trabalho.",
      "III. O posto de trabalho, em que a atividade puder ser executada na posição sentada, deve ser planejado ou adaptado para esta posição.",
      "IV. Os assentos utilizados nos postos de trabalho devem ter encosto com forma levemente adaptada ao corpo do trabalhador, para a proteção de sua região lombar."
    ],
    options: [
      { id: "A", text: "I e II, apenas.", isCorrect: false, explanation: "FALSO: A afirmação I está incorreta. O mobiliário deve ser ajustável, não fixo. A afirmação II também é imprecisa quanto à localização exata do assento de descanso." },
      { id: "B", text: "II e III, apenas.", isCorrect: false, explanation: "FALSO: A afirmação II é incorreta (o assento não precisa ser 'no próprio posto' em alguns casos, e a prioridade da I está errada)." },
      { id: "C", text: "III e IV, apenas.", isCorrect: true, explanation: "CORRETO: A III é verdadeira (priorizar trabalho sentado se possível). A IV é verdadeira (encosto adaptado à lombar é exigência da NR-17)." },
      { id: "D", text: "I, II e IV, apenas.", isCorrect: false, explanation: "FALSO: Inclui a afirmação I (altura fixa), que contraria frontalmente a ergonomia." },
      { id: "E", text: "I, III e IV, apenas.", isCorrect: false, explanation: "FALSO: Inclui a afirmação I, que é falsa." }
    ]
  },
  {
    id: 3,
    year: "2023",
    number: "38",
    topic: "Higiene e Segurança do Trabalho (Mapa de Riscos)",
    theory: `
      <h3 class="font-bold text-lg mb-2">Classificação de Riscos (NR-05)</h3>
      <div class="grid grid-cols-2 gap-2 text-sm">
        <div class="p-2 bg-green-100 border-l-4 border-green-500"><strong>Físicos:</strong> Ruídos, vibrações, radiação, calor/frio.</div>
        <div class="p-2 bg-red-100 border-l-4 border-red-500"><strong>Químicos:</strong> Poeiras, fumos, névoas, gases, óleos, substâncias.</div>
        <div class="p-2 bg-yellow-100 border-l-4 border-yellow-500"><strong>Ergonômicos:</strong> Postura inadequada, esforço físico, repetitividade.</div>
        <div class="p-2 bg-blue-100 border-l-4 border-blue-500"><strong>Acidentes:</strong> Eletricidade, arranjo físico, máquinas sem proteção.</div>
      </div>
    `,
    hasCustomLayout: true, 
    contextText: "No esquema apresentado a seguir, estão identificados cinco ambientes de trabalho de uma instalação industrial. Para cada um desses ambientes foram identificados os riscos ambientais listados.",
    contextList: [
      "Ambiente A: alto ruído de máquinas e equipamentos;",
      "Ambiente B: operação com eletricidade;",
      "Ambiente C: radiações ionizantes;",
      "Ambiente D: utilização de óleos e lubrificantes;",
      "Ambiente E: postura inadequada."
    ],
    questionStatement: "Os riscos mencionados para os ambientes A, B, C, D e E, podem ser classificados no processo de construção de um mapa de riscos, respectivamente, como:",
    options: [
      { id: "A", text: "físico, físico, acidente, físico e ergonômico.", isCorrect: false, explanation: "FALSO: Eletricidade (B) é risco de Acidente, não Físico. Óleos (D) são Químicos." },
      { id: "B", text: "ergonômico, fisico, químico, químico e fisico.", isCorrect: false, explanation: "FALSO: A ordem está totalmente incorreta para os agentes citados." },
      { id: "C", text: "acidente, acidente, químico, químico e fisico.", isCorrect: false, explanation: "FALSO: Ruído (A) é risco Físico, não de Acidente." },
      { id: "D", text: "fisico, acidente, químico, ergonômico e fisico.", isCorrect: false, explanation: "FALSO: Radiação (C) é risco Físico, não Químico. Óleos (D) são Químicos, não Ergonômicos." },
      { id: "E", text: "físico, acidente, fisico, químico e ergonômico.", isCorrect: true, explanation: "CORRETO: A (Ruído = Físico), B (Eletricidade = Acidente), C (Radiação = Físico), D (Óleos = Químico), E (Postura = Ergonômico)." }
    ]
  },
  {
    id: 4,
    year: "2017",
    number: "08",
    topic: "Gestão Ambiental e ODS",
    theory: `
      <h3 class="font-bold text-lg mb-2">Objetivos de Desenvolvimento Sustentável (ODS)</h3>
      <p class="mb-2">Agenda global da ONU (Agenda 2030) organizada em três dimensões:</p>
      <ul class="list-disc pl-5 mb-2">
        <li><strong>Econômica:</strong> Crescimento sustentado, inovação, infraestrutura.</li>
        <li><strong>Social:</strong> Erradicação da pobreza, saúde, educação, igualdade.</li>
        <li><strong>Ambiental (Biosfera):</strong> Proteção de ecossistemas, clima, água.</li>
      </ul>
    `,
    contextText: "Os Objetivos de Desenvolvimento Sustentável (ODS) compõem uma agenda mundial adotada durante a Cúpula das Nações Unidas sobre o Desenvolvimento Sustentável, em setembro de 2015. Nessa agenda, são previstas ações em diversas áreas para o estabelecimento de parcerias, grupos e redes que favoreçam o cumprimento desses objetivos.",
    questionStatement: "Considerando que os ODS devem ser implementados por meio de ações que integrem a economia, a sociedade e a biosfera, avalie as afirmações a seguir.",
    subItems: [
      "I. O capital humano deve ser capacitado para atender as demandas por pesquisa e inovação em áreas estratégicas para o desenvolvimento sustentável.",
      "II. A padronização cultural dinamiza a difusão do conhecimento cientifico e tecnológico entre as nações para a promoção do desenvolvimento sustentável.",
      "III. Os países devem incentivar politicas de desenvolvimento do empreendedorismo e de atividades produtivas com geração de empregos que garantam a dignidade da pessoa humana."
    ],
    options: [
      { id: "A", text: "II, apenas.", isCorrect: false, explanation: "FALSO: A afirmação II é falsa. A Agenda 2030 valoriza a diversidade cultural, não a padronização." },
      { id: "B", text: "III, apenas.", isCorrect: false, explanation: "FALSO: A afirmação I também é verdadeira (ODS 4, 9), pois a capacitação é essencial." },
      { id: "C", text: "I e II, apenas.", isCorrect: false, explanation: "FALSO: A afirmação II é falsa (padronização cultural gera exclusão)." },
      { id: "D", text: "I e III, apenas.", isCorrect: true, explanation: "CORRETO: I é verdadeira (necessidade de inovação/educação). III é verdadeira (ODS 8 - trabalho decente e crescimento econômico)." },
      { id: "E", text: "I, II e III.", isCorrect: false, explanation: "FALSO: Inclui a II, que contradiz os princípios de respeito às identidades locais." }
    ]
  }
];

// --- COMPONENTES ---

const Modal = ({ isOpen, onClose, content, isCorrect }) => {
  if (!isOpen) return null;

  return (
    <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200">
      <div className="bg-white rounded-lg shadow-2xl max-w-lg w-full border-t-8 border-t-solid transform transition-all scale-100"
           style={{ borderColor: isCorrect ? '#2e7d32' : '#d32f2f' }}>
        
        <div className="p-6">
          <div className="flex items-start space-x-4">
            <div className={`p-2 rounded-full flex-shrink-0 ${isCorrect ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>
              {isCorrect ? <CheckCircle size={32} /> : <AlertTriangle size={32} />}
            </div>
            <div className="flex-1">
              <h3 className={`text-xl font-bold mb-2 ${isCorrect ? 'text-green-800' : 'text-red-800'}`}>
                {isCorrect ? 'Resposta Correta!' : 'Resposta Incorreta'}
              </h3>
              <p className="text-gray-700 text-base leading-relaxed">
                {content}
              </p>
            </div>
          </div>
        </div>
        
        <div className="bg-gray-50 px-6 py-3 flex justify-end rounded-b-lg">
          <button 
            onClick={onClose}
            className={`px-6 py-2 rounded font-bold text-white transition-colors ${isCorrect ? 'bg-green-700 hover:bg-green-800' : 'bg-red-700 hover:bg-red-800'}`}
          >
            Entendido
          </button>
        </div>
      </div>
    </div>
  );
};

const Header = () => (
  <header className="bg-[#1351B4] text-white font-sans shadow-md sticky top-0 z-40">
    <div className="container mx-auto px-4 py-3 flex justify-between items-center">
      <div className="flex items-center space-x-8">
        <div className="flex items-center font-bold text-2xl tracking-tight border-r border-blue-400 pr-6">
          <BookOpen className="mr-2" />
          <span>ENADE</span>
        </div>
        <nav className="hidden md:flex space-x-6 text-sm font-medium">
          <span className="opacity-90 hover:opacity-100 cursor-pointer flex items-center gap-1 hover:underline"><FileText size={16}/> Provas Anteriores</span>
          <span className="opacity-90 hover:opacity-100 cursor-pointer flex items-center gap-1 hover:underline"><BarChart2 size={16}/> Estatísticas</span>
          <span className="opacity-90 hover:opacity-100 cursor-pointer flex items-center gap-1 hover:underline"><Info size={16}/> Sobre a Prova</span>
        </nav>
      </div>
      <div className="flex items-center space-x-4">
        <button className="flex items-center space-x-1 text-sm font-semibold bg-white text-[#1351B4] px-4 py-2 rounded-full hover:bg-gray-100 transition">
          <User size={16} />
          <span>Área do Estudante</span>
        </button>
      </div>
    </div>
    <div className="bg-[#071d41] py-2 shadow-inner">
      <div className="container mx-auto px-4 flex items-center text-sm">
        <Menu className="mr-2 cursor-pointer" size={20} />
        <span className="font-semibold mr-4 text-gray-200">Menu Principal</span>
        <div className="flex-1 relative max-w-md hidden sm:block ml-4">
          <input 
            type="text" 
            placeholder="Pesquisar por ano, área ou tema..." 
            className="w-full rounded text-sm py-1 px-3 text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-400"
          />
          <Search className="absolute right-2 top-1 text-gray-400" size={16} />
        </div>
      </div>
    </div>
  </header>
);

const Breadcrumb = ({ currentYear }) => (
  <div className="bg-gray-100 py-3 border-b">
    <div className="container mx-auto px-4 text-sm text-[#1351B4] flex items-center font-medium flex-wrap gap-2">
      <span className="hover:underline cursor-pointer">Início</span>
      <ChevronRight size={14} className="text-gray-400" />
      <span className="hover:underline cursor-pointer">Ciclo Avaliativo</span>
      <ChevronRight size={14} className="text-gray-400" />
      <span className="hover:underline cursor-pointer">Simulados</span>
      <ChevronRight size={14} className="text-gray-400" />
      <span className="text-gray-600 font-semibold">Engenharia de Produção - {currentYear}</span>
    </div>
  </div>
);

const LayoutVisual = () => (
  <div className="my-6 p-6 bg-gray-50 border border-gray-300 rounded shadow-sm">
    <h4 className="text-center text-sm font-bold text-gray-600 mb-4 uppercase tracking-wide">Esquema da Instalação Industrial</h4>
    <div className="max-w-md mx-auto flex flex-col gap-4">
      <div className="flex gap-2 h-24">
        <div className="flex-1 border-2 border-gray-700 flex items-center justify-center bg-white relative shadow-sm hover:bg-gray-50 transition">
          <span className="font-bold">Ambiente A</span>
          <div className="absolute bottom-1 right-1 px-1 bg-red-100 text-red-700 text-[10px] font-bold border border-red-200 rounded">Ruído</div>
        </div>
        <div className="flex-1 border-2 border-gray-700 flex items-center justify-center bg-white relative shadow-sm hover:bg-gray-50 transition">
          <span className="font-bold">Ambiente B</span>
          <div className="absolute bottom-1 right-1 px-1 bg-yellow-100 text-yellow-700 text-[10px] font-bold border border-yellow-200 rounded">Eletricidade</div>
        </div>
        <div className="w-16 border-2 border-gray-700 flex items-center justify-center bg-gray-100 text-xs font-mono text-gray-500">WC</div>
      </div>
      <div className="h-20 border-2 border-gray-700 flex items-center justify-center bg-white relative shadow-sm hover:bg-gray-50 transition">
        <span className="font-bold">Ambiente C</span>
        <div className="absolute top-1 right-2 px-1 bg-purple-100 text-purple-700 text-[10px] font-bold border border-purple-200 rounded">Radiação</div>
      </div>
      <div className="flex gap-2 h-24">
        <div className="flex-1 border-2 border-gray-700 flex items-center justify-center bg-white relative shadow-sm hover:bg-gray-50 transition">
          <span className="font-bold">Ambiente D</span>
          <div className="absolute bottom-1 left-1 px-1 bg-orange-100 text-orange-700 text-[10px] font-bold border border-orange-200 rounded">Óleos</div>
        </div>
        <div className="w-12 border-2 border-gray-700 flex items-center justify-center bg-gray-100 text-xs rotate-90 font-mono text-gray-500">WC</div>
        <div className="flex-[1.5] border-2 border-gray-700 flex items-center justify-center bg-white relative shadow-sm hover:bg-gray-50 transition">
          <span className="font-bold">Ambiente E</span>
          <div className="absolute bottom-1 right-1 px-1 bg-blue-100 text-blue-700 text-[10px] font-bold border border-blue-200 rounded">Postura</div>
        </div>
      </div>
    </div>
  </div>
);

const App = () => {
  const [currentQIndex, setCurrentQIndex] = useState(0);
  const [modalState, setModalState] = useState({ isOpen: false, content: '', isCorrect: false });
  const [showTheory, setShowTheory] = useState(false);

  const currentQ = questionsData[currentQIndex];

  const handleOptionClick = (option) => {
    setModalState({
      isOpen: true,
      content: option.explanation,
      isCorrect: option.isCorrect
    });
  };

  const closeModal = () => {
    setModalState({ ...modalState, isOpen: false });
  };

  const nextQuestion = () => {
    if (currentQIndex < questionsData.length - 1) {
      setCurrentQIndex(currentQIndex + 1);
      setShowTheory(false);
    }
  };

  const prevQuestion = () => {
    if (currentQIndex > 0) {
      setCurrentQIndex(currentQIndex - 1);
      setShowTheory(false);
    }
  };

  return (
    <div className="min-h-screen bg-gray-100 font-sans text-gray-800 flex flex-col">
      <Header />
      <Breadcrumb currentYear={currentQ.year} />

      <main className="flex-1 container mx-auto px-4 py-8 max-w-5xl">
        
        <div className="flex flex-col lg:flex-row gap-8">
          
          {/* Coluna Principal da Questão */}
          <div className="flex-1">
            <div className="bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200">
              
              {/* Cabeçalho da Questão */}
              <div className="bg-gradient-to-r from-[#f8f8f8] to-white px-6 py-4 border-b flex justify-between items-center">
                <div>
                  <h2 className="text-[#1351B4] font-bold text-xl flex items-center">
                    Questão {currentQ.number}
                  </h2>
                  <p className="text-sm text-gray-600 font-medium">ENADE {currentQ.year} &bull; {currentQ.topic}</p>
                </div>
                <div className="text-xs font-bold tracking-wider bg-blue-50 text-blue-800 py-1 px-3 rounded border border-blue-100 uppercase">
                  {currentQIndex + 1} / {questionsData.length}
                </div>
              </div>

              <div className="p-6 md:p-8">
                
                {/* Embasamento Teórico (Opcional) */}
                <div className="mb-8">
                   <button 
                    onClick={() => setShowTheory(!showTheory)}
                    className="w-full flex justify-between items-center px-4 py-3 bg-blue-50 border border-blue-100 hover:bg-blue-100 hover:border-blue-200 transition rounded-md group"
                  >
                    <div className="flex items-center text-[#1351B4] font-bold text-sm uppercase tracking-wide">
                      <Info className="mr-2 group-hover:scale-110 transition-transform" size={18} />
                      <span>Material de Apoio / Embasamento Teórico</span>
                    </div>
                    {showTheory ? <ChevronUp size={18} className="text-[#1351B4]" /> : <ChevronDown size={18} className="text-[#1351B4]" />}
                  </button>
                  
                  {showTheory && (
                    <div className="mt-2 p-6 bg-white text-gray-700 text-sm leading-relaxed border rounded-md shadow-sm animate-in slide-in-from-top-2">
                      <div className="prose prose-blue max-w-none" dangerouslySetInnerHTML={{ __html: currentQ.theory }} />
                    </div>
                  )}
                </div>

                {/* ÁREA DE CONTEXTUALIZAÇÃO (NOVO PEDIDO) */}
                {currentQ.contextText && (
                  <div className="mb-6 bg-gray-50 p-6 rounded-lg border-l-4 border-[#1351B4]">
                    <h3 className="text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider flex items-center">
                      <FileText size={14} className="mr-1"/> Contextualização / Cenário
                    </h3>
                    <p className="text-gray-800 text-base leading-relaxed text-justify">
                      {currentQ.contextText}
                    </p>
                    
                    {currentQ.hasCustomLayout && <LayoutVisual />}

                    {currentQ.contextList && (
                      <ul className="mt-4 space-y-1">
                        {currentQ.contextList.map((item, idx) => (
                          <li key={idx} className="bg-white px-3 py-2 rounded border border-gray-200 text-sm text-gray-700 font-medium shadow-sm">
                            {item}
                          </li>
                        ))}
                      </ul>
                    )}
                  </div>
                )}

                {/* ENUNCIADO DA QUESTÃO */}
                <div className="mb-8">
                  <h3 className="text-xs font-bold text-gray-500 uppercase mb-3 tracking-wider">Comando da Questão</h3>
                  <p className="text-lg font-bold text-gray-900 leading-relaxed">
                    {currentQ.questionStatement}
                  </p>

                  {currentQ.subItems && (
                    <div className="mt-4 bg-white p-4 rounded border border-gray-200 shadow-sm">
                      <ul className="space-y-3 text-base text-gray-700">
                        {currentQ.subItems.map((item, idx) => (
                          <li key={idx} className="flex items-start">
                             <span className="mr-2 mt-1 w-1.5 h-1.5 bg-gray-400 rounded-full shrink-0"></span>
                             {item}
                          </li>
                        ))}
                      </ul>
                    </div>
                  )}
                </div>

                {/* OPÇÕES DE RESPOSTA */}
                <div className="space-y-3">
                  {currentQ.options.map((option) => (
                    <button
                      key={option.id}
                      onClick={() => handleOptionClick(option)}
                      className="w-full text-left p-4 rounded-lg border border-gray-200 hover:border-[#1351B4] hover:bg-blue-50 hover:shadow-md transition-all flex group items-center bg-white"
                    >
                      <span className="font-bold text-[#1351B4] mr-4 w-10 h-10 rounded-full border-2 border-[#1351B4] flex items-center justify-center group-hover:bg-[#1351B4] group-hover:text-white transition-colors shrink-0 text-lg">
                        {option.id}
                      </span>
                      <span className="text-gray-700 group-hover:text-gray-900 font-medium text-base">{option.text}</span>
                    </button>
                  ))}
                </div>

              </div>

              {/* Rodapé da Navegação */}
              <div className="bg-gray-50 px-6 py-4 border-t flex justify-between items-center">
                <button 
                  onClick={prevQuestion}
                  disabled={currentQIndex === 0}
                  className={`flex items-center px-5 py-2.5 rounded-md font-semibold transition ${currentQIndex === 0 ? 'text-gray-400 cursor-not-allowed bg-gray-100' : 'text-[#1351B4] bg-white border border-gray-200 hover:bg-blue-50 hover:border-blue-200 shadow-sm'}`}
                >
                  Anterior
                </button>
                
                <div className="hidden sm:flex space-x-1">
                   {questionsData.map((_, idx) => (
                     <div 
                        key={idx} 
                        className={`w-2 h-2 rounded-full ${idx === currentQIndex ? 'bg-[#1351B4]' : 'bg-gray-300'}`}
                     />
                   ))}
                </div>

                <button 
                  onClick={nextQuestion}
                  disabled={currentQIndex === questionsData.length - 1}
                  className={`flex items-center px-6 py-2.5 rounded-md font-bold shadow-sm transition ${currentQIndex === questionsData.length - 1 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-[#1351B4] text-white hover:bg-[#0e3c85]'}`}
                >
                  Próxima <span className="hidden sm:inline ml-1">Questão</span> <ChevronRight size={18} className="ml-1" />
                </button>
              </div>
            </div>
            
            <div className="mt-6 text-center text-gray-500 text-xs">
              <p className="font-medium">INEP - Instituto Nacional de Estudos e Pesquisas Educacionais Anísio Teixeira</p>
              <p>Este ambiente é uma simulação para fins acadêmicos e não representa o sistema oficial de provas.</p>
            </div>
          </div>

        </div>
      </main>

      <Modal 
        isOpen={modalState.isOpen} 
        onClose={closeModal} 
        content={modalState.content} 
        isCorrect={modalState.isCorrect} 
      />
    </div>
  );
};

export default App;